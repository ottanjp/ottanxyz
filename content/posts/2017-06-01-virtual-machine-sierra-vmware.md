---
author: ottan
date: 2017-06-01 07:12:02+00:00
draft: false
title: VMware FusionにmacOS Sierraのβ版テスト環境を整える
type: post
url: /virtual-machine-sierra-vmware-5922/
categories:
- Mac
tags:
- Development
---

![](/images/2017/06/170601-592fa9c8643af.jpg)






macOSは、セキュリティアップデートを含めて定期的にアップデートされます。また、大型アップデート実施前には、通常であれば開発者向けの先行アップデート、およびパブリックベータ版による動作検証後に正式リリースという流れとなります。いち早く新機能を体験したいという場合には、パブリックベータ版を導入できますが、通常使用しているメインのMacにベータ版を導入することには抵抗があると思います。そのような場合には、仮想環境をうまく利用しましょう。今回は、VMware Fusion 8.5を使用しましたが、macOS Sierraをサポートする仮想環境であればどのような環境でも問題ないと思われます。





## VMware FusionにmacOS Sierraのベータ版をインストールする





### VMware FusionへのmacOS Sierraのインストール





まず、VMware FusionへmacOS Sierraをインストールする必要がありますが、VMware FusionにはMacのリカバリパーティションからOSをインストールする機能があります。つまり、現在、macOS Sierraを使用している状況であれば、インストール用のディスクを用意することなく、仮想環境にmacOS Sierraをインストールできます。





![](/images/2017/06/170601-592fa9d3555f4.png)






VMware Fusionを開き、仮想マシンを新規作成（⌘+N）します。インストール方法として、「リカバリ パーティションから macOS をインストール」を選択します。





![](/images/2017/06/170601-592fa9e00e5e0.png)






仮想マシン名（ファイル名）を決定し、「保存」をクリックします。





![](/images/2017/06/170601-592fa9e757e05.png)






リソース（CPU、メモリ、ディスク等）をカスタマイズすることも可能ですが、ここではインストールが目的であるため、そのまま推奨設定である現在の設定のまま「終了」をクリックします。





![](/images/2017/06/170601-592fa9f24ea1d.png)






後は、macOS Sierraのインストールウィザードの内容にしたがってインストールを行うのみですが、「macOSユーティリティ」が表示されたら、「macOSを再インストール」を選択してください。この後に、Appleによる検証が行われます、といったダイアログが表示され、タイミングによってエラーが返されることがありますが、その場合には再度この画面からやり直してください。





![](/images/2017/06/170601-592fbbb89dfc2.png)






### VMware Toolsのインストール





インストール直後の段階ではVMware Toolsがインストールされていません。VMware Fusionのメニューから「仮想マシン」→「VMware Tools のインストール」からインストールします。





![](/images/2017/06/170601-592fbbeed4987.png)






インストールディスクが仮想マシンにマウントされるため、インストールパッケージをダブルクリックしてインストールします。インストール完了後は再起動が必要になります。





![](/images/2017/06/170601-592fbc2f11b9f.png)






### 別のApple IDを用意する





完全に環境を分離するために、ベータ版を導入する仮想環境用に、普段使用しているApple IDとは異なる検証用のIDを用意しておくと便利でしょう。ただし、Apple IDが異なる場合、Mac App Storeからすでにダウンロード済みのアプリを再ダウンロードすることはできませんので注意が必要です。あくまで検証目的として使用します。



https://appleid.apple.com/



### macOS Sierraのパブリックベータ版をインストールする





続いて、仮想マシン上のSafariを開いて、[Apple Beta Software Program](https://beta.apple.com/sp/ja/betaprogram/)にアクセスします。





![](/images/2017/06/170601-592fbcea7fed1.png)






画面上部の「サインイン」からサインインします。その際に、仮想マシンのmacOS Sierraに登録したApple IDと同一のアカウントを使用してサインインします。





![](/images/2017/06/170601-592fbd50eed74.png)






サインイン後に、画面上部の「デバイスを登録」をクリックします。





![](/images/2017/06/170601-592fbd85e01c9.png)






「パブリックアクセスユーティリティをダウンロード」をクリックし、インストーラーをダウンロードします。ダウンロード完了後に、インストーラーパッケージをダブルクリックしてインストールすれば、パブリックベータに登録完了です。以降、パブリックベータによるアップデートのつど、仮想マシンのアップデートを実施できます。





![](/images/2017/06/170601-592fbe24b8137.png)






メインのMacでベータ版はちょっと、という方は、ぜひ仮想マシンで新機能をお試しください。
