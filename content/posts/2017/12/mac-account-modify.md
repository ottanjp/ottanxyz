---
author: ottan
date: 2017-12-19 13:51:56+00:00
draft: false
title: Macのアカウント名（ユーザ名）やホームディレクトリを変更する方法
type: post
slug: mac-account-modify-6465
categories:
- Mac
tags:
- High Sierra
- macOS
---

![](/uploads/2017/12/171219-5a3912e81a5dd.jpg)

macOSは、マルチユーザでの使用を前提としているため、複数のアカウントを作成し作業できます。各ユーザには「ホームディレクトリ」と呼ばれる、ユーザ固有の作業フォルダーが割り当てられ、各ユーザが作成した情報や設定は、この「ホームディレクトリ」配下に保存されます。また、ユーザ毎に「UID」と呼ばれる一意のID、およびグループが割り当てられ、この「UID」「グループ」（GID）を元に、各フォルダーやシステムの環境変更の権限の有無が判定されます。

今回は、すでに作成したアカウントのアカウント名（またはユーザ名）、およびホームディレクトリを変更する方法をご紹介します。ホームディレクトリの変更により、使用しているアプリケーションによっては正常に動作しなくなる可能性もあるため注意が必要です。通常は作成したユーザはそのまま使用し続けることが望ましいでしょう。

## アカウント名およびホームディレクトリを変更する方法

以下の作業を実施する前に、Time Machineなどを利用して必ず事前にバックアップを取得しましょう。設定を誤ると「ログインできなくなる」「アカウントが使用不能になる」などの事態に見舞われることになります。

### Time Machineなどを使用してシステム全体のバックアップを取得しておく

アカウント名、ホームディレクトリの変更に伴い、アプリケーションが予期せぬ動作を起こしたり、各種の不具合が発生した場合に備えて、事前にTime Machine等を使用してシステム全体のバックアップを取得しておきましょう。バックアップを取得しておけば、後からバックアップした時点に復元できます。

### 管理者アカウントでログインする

変更したいアカウントとは別に管理者権限を持つアカウントを用意します。変更したいアカウントが管理者権限を持っていても、そのアカウントでログインして作業することはできません。また、ユーザの領域を超えて作業することになるため、必ず管理者権限を持ったアカウントで作業します。

![](/uploads/2017/12/171219-5a39130825b24.png)

そのアカウントが管理者権限を保持しているかどうかは、「システム環境設定」→「ユーザとグループ」で確認できます。ユーザ名（フルネーム）の下に「管理者」と表示されていれば、そのアカウントは管理者権限を保持しています。

詳しい方は、ターミナルから`id`コマンドを実行して、そのユーザが「admin」グループに属しているかどうかでも確認できます（管理者権限を持たないユーザは「staff」のみ）。

### ホームディレクトリの名称を変更する

ホームディレクトリの名称変更は、Finderから実施できます。

![](/uploads/2017/12/171219-5a391310e947c.png)

Finderを開き「/Users」フォルダーに移動します。該当のフォルダーが見当たらない場合は、⇧（shift）+⌘（command）+Gで、直接「/Users」フォルダーに移動します（日本語表記では、「ユーザ」）。今回は、「テスト」という名前のアカウントの「/Users/test」というホームディレクトリを変更します。

![](/uploads/2017/12/171219-5a39131ac56c1.png)

Finderでフォルダーのリネームを実施します。その際に、管理者権限を持つユーザによる認証が必要です（決して「root」という名称のアカウントと空のパスワードは使用してはいけません。※現在、このセキュリティホールは最新のアップデートで解消されています）。

### システム環境設定からアカウント名、ホームディレクトリ名を変更する

各アカウントには、前述の通り「ホームディレクトリ」「アカウント名」が割り当てられています。Finderでホームディレクトリをリネームしただけの状態では、該当のアカウントのホームディレクトリを変更したことにはなりません。また、ログインしようとしても「ホームディレクトリ」が見つからない旨のエラーが表示され、ログインできません。

![](/uploads/2017/12/171219-5a3913234025c.png)

「システム環境設定」→「ユーザとグループ」を開きます。左下の南京錠のアイコンをクリックして、鍵マークが外れた状態にしておきます。その際にも、管理者権限を持つユーザによる認証が必要です。編集できる状態になったら、アカウント名、ホームディレクトリ名を変更したいユーザを右クリックして「詳細オプション」メニューを表示します。

![](/uploads/2017/12/171219-5a39132a9cb30.png)

詳細オプションでは「アカウント名」「ホームディレクトリ名」のみ変更します。その他の項目（とくに、ユーザID：UIDは変更しないでください。トラブルの原因になります）は通常変更することはありません。ログインシェルは好みに応じて変更して構いませんが、詳しくない場合はそのままにしておいてください。ここで「アカウント名」を任意の名称に、「ホームディレクトリ」を先ほどFinderで変更したフォルダー名にリネームし「OK」ボタンをクリックします。

![](/uploads/2017/12/171219-5a391331f0764.png)

### ログインして動作を確認する

では、正常にアカウント名、ホームディレクトリ名が変更されているかどうかをログインして確認してみましょう。システム環境設定からユーザの設定を変更した場合、メニューバーからのアカウントのスイッチはできないため、いったん現在ログインしている管理者アカウントからログアウトして、変更したアカウントでログインしてください。

![](/uploads/2017/12/171219-5a39133b138ae.png)

無事、ログインできれば変更は完了していますが、各種アプリケーションの設定等が初期化されている場合がありますので、個別にアプリケーションを起動して動作が可能かどうか確認してください。
