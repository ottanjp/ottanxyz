---
author: ottan
date: 2014-09-08 04:55:34+00:00
draft: false
title: Macでプレゼン資料に数式を貼り付けるのに便利な「LaTeXiT」
type: post
url: /mac-latex-presentation-92/
categories:
  - Mac
tags:
  - Development
---

![](/images/2014/09/140908-540d6c049f4b9.jpg)

今回はプレゼン資料に数式を貼り付けるのに重宝する「LaTeXiT」というアプリケーションと、Mac に LaTeX 環境を構築するまでの過程についてご紹介したいと思います。自由に数式が扱える様になると、資料作成の幅が広がります！

## Homebrew のインストール

Mac の Tex 環境を構築する前に、「LaTeXiT」で使用する最新のライブラリをダウンロードする必要があります。これは、後述のパッケージに含まれませんので手動でダウンロードする必要があります。ダウンロードは、**Homebrew**経由で行います。すでにインストール済みの場合は、このステップを飛ばしてください。Homebrew をインストールするためには、ターミナルから以下のコマンドを実行します。

    /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"

ターミナルを再起動し、以下のコマンドを実行して、インストールが正常に完了したことを確認してください。

    brew doctor

「Your system is ready to brew.」と表示されればインストールは完了しています。もし、エラーが表示された場合は、表示されたエラーの内容にしたがって処置してください。Homebrew インストール時、インストール後の代表的なエラーは以下の通りです。

- 環境変数 PATH の設定で「/usr/local/bin」よりも「/usr/bin」が優先されている

→ ホームディレクトリの「.bashrc」（bash の場合）、「.zshrc」（zsh の場合）に、**PATH=/usr/local/bin:\$PATH**を追加してください。

- Homebrew が最新にアップデートされていない。

→「brew update」コマンドで最新にアップデートしてください。

### imagemagick、ghostscript、pdf2svg のインストール

Homebrew の準備ができたら「LaTeXiT」に必要なパッケージのインストールを行います。ターミナルで以下のコマンドを実行してください。

    brew install imagemagick ghostscript pdf2svg

http://brew.sh/

以上で、Homebrew の準備は完了です。

## MacTex のインストール

続いて、MacTex と呼ばれる Mac の Tex 環境を構築するにあたって必須のパッケージをインストールします。インストーラーのダウンロードは公式サイトから行いますが、繋がりづらい場合はミラーサイトが複数用意されていますので、そちらからダウンロードしてください。なお、公式サイトにも明記されている通り、Google Chrome 経由より**Safari 経由のほうが速い**です。（なお、ファイルサイズは 2.4GB 程度あります）

https://tug.org/mactex/

http://tug.org/cgi-bin/mactex-download/MacTeX.pkg

## MacTex のインストール

![](/images/2016/12/161204-5844066909668.png)

基本的にはインストールウィザードの内容にしたがってインストールします。「ghostscript」パッケージは前述の Homebrew でインストールしたパッケージを使用するため、インストーラーで上書きされないようにカスタマイズします。上記の画面で「カスタマイズ」をクリックしてください。

![](/images/2016/12/161204-58440670bfcc4.png)

「Ghostscript-9.19」のチェックを外してインストールします。

### Command Line Tools のインストール

![](/images/2014/09/140907-540c56f2b237d.png)

なお、Xcode の Command Line Tools がインストールされていない場合は、MacTex インストール後に、このようなダイアログが表示されます。こちらもウィザードの内容に従い「インストール」ボタンをクリックして進めてください。

### MacTex が正常にインストールされているかを確認する

MacTex が正常にインストールされていることを確認するために、ターミナルを開いて以下のコマンドを実行してください。

    which mktexlsr

「/usr/texbin/mktexlsr」と表示されれば正常にインストールされています。

- 「command not found: mktexlsr」と表示される

→ ホームディレクトリの「.bashrc」（bash の場合）、「.zshrc」（zsh の場合）に、**PATH=\$PATH:/usr/texbin**を追加してください。

    echo $PATH
    /usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/texbin

## Tex Live Utility によるパッケージの更新

MacTex により導入されるアプリケーションは、すべてアプリケーションフォルダーの「Tex」フォルダーに保存されます。気軽に数式を貼り付けることが可能な「LaTeXiT」もここに保存されています。アプリケーションの中から「TeX Live Utility」を開いてください。「信頼されない開発元」と表示される場合は、右クリックした上で「開く」をクリックしてください。

![](/images/2014/09/140907-540c5920d90ee.png)

「TeX Live Utility」は「Tex」環境のパッケージ管理ソフトです。「MacTex」をインストールした段階では古いパッケージが導入されていますので、このアプリケーションを使用して更新します（時間がかかりますので注意してください）

![](/images/2014/09/140907-540c59218ce3c.png)

もし、パッケージ一覧の取得に失敗するなどエラーが発生した場合は、「設定」→「リポジトリの管理」を開いて、ミラーサイトを選択してください。現時点で日本だけでも５つのミラーサイトがあります。

![](/images/2014/09/140907-540c59225ccbf.png)

パッケージを更新するためには、画面を右クリックして「全パッケージを更新」をクリックします。200 以上のパッケージを更新する必要がありますので、時間を要します。時間のあるときに実行してください。

![](/images/2014/09/140907-540c59234b770.png)

## LaTeXiT の環境設定

いよいよ、今回の本題である「LaTeXiT」の出番です。アプリケーションフォルダーの「Tex」フォルダーから「LaTeXiT」を開いてください。まずは、一番右の「ウェブ」タブからアップデートを確認します。「今すぐアップデートを確認」をクリックしましょう。「起動時にアップデートを確認する」をチェックしておくと便利です。

![](/images/2014/09/140907-540c5a4e5c426.png)

アップデートが完了したら、再度アプリケーションを開き、今度は「プログラム」タブの設定を行います。以下の表、および図のように設定してください。これで日本語環境にも対応し、LaTeX の文書に日本語が混ざっている場合でも正常に変換できるようになります。

| 項目             | コマンド                                           |
| ---------------- | -------------------------------------------------- |
| LaTeX            | /usr/local/texlive/2014/bin/x86_64-darwin/platex   |
| dvipdf           | /usr/local/texlive/2014/bin/x86_64-darwin/dvipdfmx |
| Ghostscript (gs) | /usr/local/bin/gs                                  |

![](/images/2014/09/140908-540d35c7d4611.png)

以上で準備は完了です。お疲れ様でした！

## LaTeXiT を使用してみよう！

では実際に LaTeXiT を使用してみましょう。以下の文言を入れて「LaTeXiT」ボタンを押してみてください。正常に変換されましたか？変換されない場合は、日本語環境が認識できていない可能性があります。前述の設定を見直してみてください。

    行列 $A=\begin{pmatrix} 2 & 1 \\ 2 & 3 \end{pmatrix}$ によって表される線形変換

![](/images/2014/09/140908-540d32e7253e6.png)

LaTeXiT の便利なところは、作った数式をそのままドラッグ＆ドッロップで引き渡すことができるという点です。また、PDF、TIFF、EPS、PNG、JPEG、SVG とさまざまな形式で渡すことができるため、形式に困ることはありません。

![](/images/2014/09/140908-540d32e2ef9f6.png)

ブログにも簡単に数式をのせることができます（PNG 形式、もしくは JPEG 形式が良いでしょう。SVG を試しましたが正常に貼り付けることができませんでした）

![](/images/2014/09/140908-540d32ec3b3ab.png)

大学生の頃は数学の教師を目指していましたので、簡単に数式を作れるこのようなツールには目を奪われてしまいます。すべて無料でできるというのも素晴らしいことです。最後までお付き合いいただきありがとうございました！なお、LaTeX の数式は以下からお借りしました。

http://www1.kiy.jp/~yoka/LaTeX/latex.html

http://www.latex-cmd.com/
