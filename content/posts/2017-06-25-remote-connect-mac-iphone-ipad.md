---
author: ottan
date: 2017-06-25 06:49:19+00:00
draft: false
title: 外出先のiPhoneやiPadから自宅のMacに接続する方法
type: post
url: /remote-connect-mac-iphone-ipad-5999/
categories:
  - iPhone
  - Mac
tags:
  - Tips
---

![](/images/2017/06/170625-594f2a0e6ce0b.jpg)

外出先で iPhone や iPad（以下、iOS デバイス）から自宅の Mac に接続できるようにする方法をご紹介します。なお、iOS デバイスから接続するためには、VNC（Virtual Network Computing）プロトコルに対応したクライアントが必要です。また、外出先から自宅に接続するためには、インターネット接続に使用しているルーター等のグローバル IP アドレス、およびポートフォワーディングの設定が必要ですが、自宅で使用している機種でその方法の一例をご紹介します。

## 外出先から自宅の Mac に接続する方法

大まかな流れとしては、以下の通りです。

1. 同一の Wi-Fi ネットワークから VNC クライアントを介して接続できることを確認する
2. インターネット接続用ルーターのポートフォワーディングの設定を行う
3. VNC クライアント側に接続用の設定を実施する

### 自宅の同一 Wi-Fi ネットワークから接続する

まずは、接続したい Mac と iOS デバイスを同一の Wi-Fi ネットワークに接続して、iOS デバイスから Mac に接続できるかどうかを試してみましょう。Bonjour と呼ばれる、Mac や iOS デバイスで動作するサービスを介して、自動的に iOS デバイスから Mac を検出することができるため、同一の Wi-Fi ネットワークから接続する場合は非常に簡単です。

![](/images/2017/06/170625-594f2a2d60c40.png)

接続先の Mac のシステム環境設定を開き「共有」をクリックします。

![](/images/2017/06/170625-594f2a4d50820.png)

「画面共有」のチェックをオンにします。

### VNC クライアントのダウンロード

続いて、iOS デバイスに VNC クライアントをダウンロードします。App Store ではさまざまな VNC クライアントが用意されています。また、大抵の VNC クライアントは上記の Bonjour にも対応しています。ここでは、私が使用している「VNC Viewer」を使用します。

{{< itunes 352019548 >}}

アプリのダウンロードが完了したら起動します。チュートリアルが表示されますので、画面のウィザードにしたがって進めます。

![](/images/2017/06/170625-594f2a8f4f00c.png)

左上のメニューアイコンをタップします。一覧から「Bonjour」をタップします。「Bonjour」では、同一の Wi-Fi ネットワークに接続している Mac を自動検出できます（Mac 側で Bonjour サービスが有効である必要がありますが、デフォルトでは有効になっています）。

![](/images/2017/06/170625-594f2a9528726.png)

一覧に、システム環境設定で「画面共有」のチェックボックスをオンにした Mac が表示されます。ここに表示される名称は、システム環境設定の「共有」で変更できます。一覧に表示された Mac の名称をタップします。

![](/images/2017/06/170625-594f2a9b4025b.png)

画面共有を介して接続する場合、通信は暗号化されていないため注意が必要である旨の警告が表示されます。次回以降、警告を表示しないようにするためには「Warn me every time」をオフにします。右上の「Continue」をタップします。

![](/images/2017/06/170625-594f2aa139548.png)

Mac にログインするためのアカウント情報を入力します。アカウントは、画面共有を介してログインが許可されているユーザを選択する必要があります。デフォルトでは「Administrators」グループに所属するユーザ（管理者ユーザ）のみが接続できますが、Mac 側の「システム環境設定」で特定のユーザに限定するなど、設定を変更  できます。「Remember Password」をオンにしておくと、次回以降、アカウント情報の入力を必要とせずに接続できるようになりますが、逆に言えば、誰でもこのアプリから Mac にアクセスできるようになってしまうため注意が必要です。

![](/images/2017/06/170625-594f2aa814bb0.png)

Mac のデスクトップが表示されたら無事接続完了です。「VNC Viewer」の詳細な使用方法については、ここでは割愛します。「×」アイコンをタップしていったん切断します。

### 外出先から自宅の Mac に接続するための設定

自宅の同一 Wi-Fi ネットワークから Bonjour により Mac に接続することの確認ができたら、外出先から接続するための準備を始めましょう。

#### グローバル IP アドレスとプライベート IP アドレス

IP アドレス（以降、IP アドレスとは IPv4 をさす）は、インターネットに接続するために必要ですが、IP アドレスの数は有限です。そのため、インターネットに接続する個々のデバイスに一意の IP アドレスを割り当てててしまうと、IP アドレスがすぐに枯渇しています（IP アドレスは、インターネットに接続するすべてのデバイスで固有である必要があります）。IP アドレスは通常、自宅の Mac には「プライベート IP アドレス」と呼ばれる自宅だけで使用できる IP アドレスが（ルーターの DHCP 等の機能によって自動的に）固有に割り当てられています。インターネットに接続する際には、ルーターがこの「プライベート IP アドレス」を「グローバル IP アドレス」に変換して、接続することになります。つまり、インターネット側から見ると、家庭内のすべてのインターネット機器は通常 1 つの「グローバル IP アドレス」を共有して使用することになります。

そのため、外出先から自宅の Mac に接続するためには、インターネットに接続するための「グローバル IP アドレス」経由で、家庭内の「プライベート IP アドレス」に接続する必要があります。しかし、家庭内の「プライベート IP アドレス」から「グローバル IP アドレス」経由でインターネットに接続する機器は前述の通り複数あるため、「グローバル IP アドレス」経由で家庭内の機器にアクセスする際に、「グローバル IP アドレス」を接続したい機器の「プライベート IP アドレス」にルーターによって変換してもらう必要があります。

#### インターネット接続用ルーターの設定

今回は、NURO 光契約時に同梱されている「F660T」に対する設定をご紹介します。その他の機器についてはお使いの機種の取扱説明書等をご覧ください。

まず、ブラウザ等からルーターの設定画面に接続します。通常は、ルーターの IP アドレスをブラウザのアドレス欄に入力することで設定画面を開くことができます。ルーターの IP アドレスがわからない場合は、iPhone や Mac の Wi-Fi ネットワークの設定等から確認  できます。

![](/images/2017/06/170625-594f52896053b.png)

iPhone の場合、「設定」→「Wi-Fi」から接続している SSID を選択して、「ルーター」の IP アドレスを確認  できます。

![](/images/2017/06/170625-594f52f41b92c.png)

お使いのルーターの設定から「ポートフォワーディング」と呼ばれる設定を探してください。「ポートフォワーディング」とは、外出先からルーターのグローバル IP アドレス、およびあらかじめ設定した任意のポートにアクセスした際に、内部のプライベート IP アドレスへ変換するための設定です。設定した「グローバル IP アドレス」の「ポート」番号にアクセスすると、内部の「プライベート IP アドレス」の「ポート」番号に変換してくれるようになります。

![](/images/2017/06/170625-594f53eb97e04.png)

VNC では、「TCP」プロトコルの「5900」番のポートを使用します。そのため、ルーターのグローバル IP アドレス宛にアクセスした場合、内部のプライベート IP アドレスを持つ機器に対して「5900」番のポートにアクセスするように設定します。「F660T」の場合の設定例は以下の通りです。

<table >
<tr >項目設定</tr>
<tr >
<td >有効にする
</td>
<td >オン
</td></tr>
<tr >
<td >名前
</td>
<td >VNC（任意）
</td></tr>
<tr >
<td >プロトコル
</td>
<td >TCP
</td></tr>
<tr >
<td >（開始）外部ポート番号
</td>
<td >8080（任意）
</td></tr>
<tr >
<td >（終了）外部ポート番号
</td>
<td >（開始）外部ポート番号と同一の番号
</td></tr>
<tr >
<td >内部ホストのIPアドレス
</td>
<td >192.168.1.12（接続するMacのプライベートIPアドレス）
</td></tr>
<tr >
<td >（開始）内部ポート番号
</td>
<td >5900
</td></tr>
<tr >
<td >（終了）内部ポート番号
</td>
<td >5900
</td></tr>
</table>

上記の設定を有効にすることにより、`<グローバルIPアドレス>:8080`にアクセスすると、自動的に`192.168.1.12:5900`に接続されるようになります。このように「グローバル IP アドレス」と「ポート」から、「プライベート IP アドレス」と「ポート」宛への通信に変換する仕組みを「ポートフォワーディング」と呼びます。なお、グローバル IP アドレスはルーターのインターネット接続情報等から確認  できます。

![](/images/2017/06/170625-594f56001ff20.png)

### VNC クライアント側の設定

続いて、iOS デバイス側の VNC クライアントの設定を行います。「VNC Viewer」の場合、メニューの「Address Book」を開きます。

![](/images/2017/06/170625-594f568c47afa.png)

右上の「+」アイコンをタップします。

![](/images/2017/06/170625-594f56b50a892.png)

「Address」に、`<グローバルIPアドレス>:8080`、「Name」に任意の名称（たとえば、「自宅の iMac」等わかり  やすい名前）を設定します。グローバル IP アドレスは、事前にルーターで確認した IP アドレスを、「8080」はポートフォワーディングにおいて設定した「外部ポート番号」です。この「外部ポート番号」は適宜設定した値に更新してください。

### VNC クライアントから自宅の Mac に接続する

では、実際に外出先から自宅の Mac に接続できるかどうか確認してみてください。iOS デバイスと Mac が同一の Wi-Fi ネットワーク上に接続されている場合、グローバル IP アドレス宛の通信によるポートフォワーディングはできません（詳細は割愛します）ので、iOS デバイスの Wi-Fi をオフにし 4G 状態にする、もしくは接続先の Mac とは別の Wi-Fi ネットワーク等に接続してから接続してください。

![](/images/2017/06/170625-594f58f3e0f66.png)

「Connect」をタップし、Bonjour の時と同様の警告画面が表示され、システム環境設定の画面共有でログインを許可したアカウントでログインできれば接続は無事完了しています。

## 注意点

外出先から自宅の Mac に接続する場合の注意点があります。「グローバル IP アドレス」は通常インターネット接続プロバイダー（私の場合は「NURO 光」（So-net））から割り当てられますが、「グローバル IP アドレス」は固定ではないということです。そのため、「グローバル IP アドレスが変更されれば、上記のルーターや VNC クライアントの設定は無効になります。ルーター等の再起動を行い、うまく接続できなかった場合は、グローバル IP アドレスを見直してみてください。

上記の問題を回避するために、DDNS（Dynamic DNS）と呼ばれるサービスを使用して動的に名前解決する（ドメイン名からグローバル IP アドレスへ変更するサービス）方法等が用意されていますが、外出先から自宅の Mac に接続するだけであればこのような方法を取らなくても十分かと思います。なお、固定のグローバル IP アドレスを提供しているインターネット接続プロバイダーもありますが、通常は有償のサービスです。

![](/images/2017/06/170625-594f593b33996.png)

また、Mac がスリープ状態になっている場合、外出先から接続することができません。そのような場合には、「システム環境設定」の「省エネルギー」で「ネットワークアクセスによるスリープ解除」を設定しておきます。そうすることで、Mac に対するネットワークアクセスがあった場合には、自動的にスリープが解除されるようになります。

## まとめ

外出先の iPhone や iPad から、自宅の Mac に接続する方法をご紹介しました。macOS に搭載されている標準の機能を使用するだけで接続できるのでとても便利ですね。ご質問等ありましたら、メニューの「Contacts」または[@ottanxyz](https://twitter.com/ottanxyz)、コメント欄でお待ちしています。
